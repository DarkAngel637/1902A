{"ast":null,"code":"var _jsxFileName = \"/Users/MJ/web/project/1902A/react-dmall-router/src/pages/Login.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: '1902A',\n      password: '1902A'\n    };\n  }\n\n  async login() {\n    let {\n      username,\n      password\n    } = this.state;\n\n    if (!this.state.username || !this.state.password) {\n      alert('请输入正确的用户名或密码');\n      return;\n    }\n\n    let result = await axios.post('/user/login', {\n      username,\n      password\n    });\n    console.log('result', result);\n\n    if (result.data.token) {\n      window.localStorage.setItem('isLogin', result.data.token);\n      console.log('props...', this.props);\n      this.props.history.goBack();\n    } else {\n      alert(result.data.msg);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"\\u8BF7\\u8F93\\u5165\\u60A8\\u7684\\u7528\\u6237\\u540D\",\n        value: this.state.username,\n        onChange: e => {\n          this.setState({\n            username: e.target.value\n          });\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"\\u8BF7\\u8F93\\u5165\\u60A8\\u7684\\u5BC6\\u7801\",\n        type: \"password\",\n        value: this.state.password,\n        onChange: e => {\n          this.setState({\n            password: e.target.value\n          });\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => this.login(),\n        children: \"\\u7ACB\\u5373\\u767B\\u9646\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/MJ/web/project/1902A/react-dmall-router/src/pages/Login.js"],"names":["React","Component","axios","Login","state","username","password","login","alert","result","post","console","log","data","token","window","localStorage","setItem","props","history","goBack","msg","render","e","setState","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAGA,eAAe,MAAMC,KAAN,SAAoBF,SAApB,CAA8B;AAAA;AAAA;AAAA,SACzCG,KADyC,GACjC;AACJC,MAAAA,QAAQ,EAAE,OADN;AAEJC,MAAAA,QAAQ,EAAE;AAFN,KADiC;AAAA;;AAM9B,QAALC,KAAK,GAAE;AACT,QAAI;AAACF,MAAAA,QAAD;AAAWC,MAAAA;AAAX,QAAuB,KAAKF,KAAhC;;AACA,QAAI,CAAC,KAAKA,KAAL,CAAWC,QAAZ,IAAwB,CAAC,KAAKD,KAAL,CAAWE,QAAxC,EAAiD;AAC7CE,MAAAA,KAAK,CAAC,cAAD,CAAL;AACA;AACH;;AACD,QAAIC,MAAM,GAAG,MAAMP,KAAK,CAACQ,IAAN,CAAW,aAAX,EAA0B;AAACL,MAAAA,QAAD;AAAWC,MAAAA;AAAX,KAA1B,CAAnB;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBH,MAAtB;;AACA,QAAIA,MAAM,CAACI,IAAP,CAAYC,KAAhB,EAAsB;AAClBC,MAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,SAA5B,EAAuCR,MAAM,CAACI,IAAP,CAAYC,KAAnD;AACAH,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwB,KAAKM,KAA7B;AACA,WAAKA,KAAL,CAAWC,OAAX,CAAmBC,MAAnB;AACH,KAJD,MAIK;AACDZ,MAAAA,KAAK,CAACC,MAAM,CAACI,IAAP,CAAYQ,GAAb,CAAL;AACH;AACJ;;AAEDC,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA,8BACI;AAAO,QAAA,WAAW,EAAC,kDAAnB;AAA8B,QAAA,KAAK,EAAE,KAAKlB,KAAL,CAAWC,QAAhD;AAA0D,QAAA,QAAQ,EAAEkB,CAAC,IAAE;AAAC,eAAKC,QAAL,CAAc;AAACnB,YAAAA,QAAQ,EAAEkB,CAAC,CAACE,MAAF,CAASC;AAApB,WAAd;AAA0C;AAAlH;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAO,QAAA,WAAW,EAAC,4CAAnB;AAA6B,QAAA,IAAI,EAAC,UAAlC;AAA6C,QAAA,KAAK,EAAE,KAAKtB,KAAL,CAAWE,QAA/D;AAAyE,QAAA,QAAQ,EAAEiB,CAAC,IAAE;AAAC,eAAKC,QAAL,CAAc;AAAClB,YAAAA,QAAQ,EAAEiB,CAAC,CAACE,MAAF,CAASC;AAApB,WAAd;AAA0C;AAAjI;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAQ,QAAA,OAAO,EAAE,MAAI,KAAKnB,KAAL,EAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAOH;;AA/BwC","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\n\n\nexport default class Login extends Component {\n    state = {\n        username: '1902A',\n        password: '1902A'\n    }\n\n    async login(){\n        let {username, password} = this.state;\n        if (!this.state.username || !this.state.password){\n            alert('请输入正确的用户名或密码');\n            return;\n        }\n        let result = await axios.post('/user/login', {username, password});\n        console.log('result', result);\n        if (result.data.token){\n            window.localStorage.setItem('isLogin', result.data.token);\n            console.log('props...', this.props);\n            this.props.history.goBack();\n        }else{\n            alert(result.data.msg)\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <input placeholder=\"请输入您的用户名\" value={this.state.username} onChange={e=>{this.setState({username: e.target.value})}}/>\n                <input placeholder=\"请输入您的密码\" type=\"password\" value={this.state.password} onChange={e=>{this.setState({password: e.target.value})}}/>\n                <button onClick={()=>this.login()}>立即登陆</button>\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}