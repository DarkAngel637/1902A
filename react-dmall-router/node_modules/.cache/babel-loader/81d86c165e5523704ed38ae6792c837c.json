{"ast":null,"code":"var _jsxFileName = \"/Users/MJ/web/project/1902A/react-dmall-router/src/pages/main/Cart.js\";\nimport React, { Component } from 'react';\nimport withLogin from '../../hoc/withLogin';\nimport CartContext from '../../context/cartContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Cart extends Component {\n  render() {\n    return (\n      /*#__PURE__*/\n      // 通过context的consumer拿到list属性和changeNum方法\n      _jsxDEV(CartContext.Consumer, {\n        children: value => {\n          let totalNum = value.list.reduce((total, item) => total += item.num, 0),\n              totalPrice = value.list.reduce((total, item) => total += item.num * item.price, 0);\n          let cartList = value.list.filter(item => item.num);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [cartList.map(item => /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: item.image,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 16,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 18,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: item.tag\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 19,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: item.price\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 20,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 17,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: e => {\n                    e.stopPropagation();\n                    value.changeNum(item.id, '+');\n                  },\n                  children: \"+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 23,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: item.num\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 27,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: e => {\n                    e.stopPropagation();\n                    value.changeNum(item.id, '-');\n                  },\n                  children: \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 28,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 22,\n                columnNumber: 25\n              }, this)]\n            }, item.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 15,\n              columnNumber: 21\n            }, this)), /*#__PURE__*/_jsxDEV(\"section\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u603B\\u91CF\\uFF1A\", totalNum]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 35,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u603B\\u4EF7\\uFF1A\\xA5\", totalPrice.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 36,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                children: \"\\u7ACB\\u5373\\u652F\\u4ED8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 37,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 34,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 14,\n            columnNumber: 24\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 9,\n        columnNumber: 13\n      }, this)\n    );\n  }\n\n}\n\nexport default _c = withLogin(Cart);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/MJ/web/project/1902A/react-dmall-router/src/pages/main/Cart.js"],"names":["React","Component","withLogin","CartContext","Cart","render","value","totalNum","list","reduce","total","item","num","totalPrice","price","cartList","filter","map","image","name","tag","e","stopPropagation","changeNum","id","toFixed"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,qBAAtB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;;;AAEA,MAAMC,IAAN,SAAmBH,SAAnB,CAA6B;AACzBI,EAAAA,MAAM,GAAG;AACL;AAAA;AACI;AACA,cAAC,WAAD,CAAa,QAAb;AAAA,kBACAC,KAAK,IAAI;AACL,cAAIC,QAAQ,GAAGD,KAAK,CAACE,IAAN,CAAWC,MAAX,CAAkB,CAACC,KAAD,EAAQC,IAAR,KAAeD,KAAK,IAAIC,IAAI,CAACC,GAA/C,EAAoD,CAApD,CAAf;AAAA,cACIC,UAAU,GAAGP,KAAK,CAACE,IAAN,CAAWC,MAAX,CAAkB,CAACC,KAAD,EAAQC,IAAR,KAAeD,KAAK,IAAIC,IAAI,CAACC,GAAL,GAASD,IAAI,CAACG,KAAxD,EAA+D,CAA/D,CADjB;AAEA,cAAIC,QAAQ,GAAGT,KAAK,CAACE,IAAN,CAAWQ,MAAX,CAAkBL,IAAI,IAAIA,IAAI,CAACC,GAA/B,CAAf;AACA,8BAAO;AAAA,uBAAMG,QAAQ,CAACE,GAAT,CAAaN,IAAI,iBAC1B;AAAA,sCACI;AAAK,gBAAA,GAAG,EAAEA,IAAI,CAACO,KAAf;AAAsB,gBAAA,GAAG,EAAC;AAA1B;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI;AAAA,wCACI;AAAA,4BAAIP,IAAI,CAACQ;AAAT;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI;AAAA,4BAAIR,IAAI,CAACS;AAAT;AAAA;AAAA;AAAA;AAAA,wBAFJ,eAGI;AAAA,4BAAIT,IAAI,CAACG;AAAT;AAAA;AAAA;AAAA;AAAA,wBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ,eAOI;AAAA,wCACI;AAAQ,kBAAA,OAAO,EAAEO,CAAC,IAAE;AAChBA,oBAAAA,CAAC,CAACC,eAAF;AACAhB,oBAAAA,KAAK,CAACiB,SAAN,CAAgBZ,IAAI,CAACa,EAArB,EAAyB,GAAzB;AACH,mBAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAKI;AAAA,4BAAOb,IAAI,CAACC;AAAZ;AAAA;AAAA;AAAA;AAAA,wBALJ,eAMI;AAAQ,kBAAA,OAAO,EAAES,CAAC,IAAE;AAChBA,oBAAAA,CAAC,CAACC,eAAF;AACAhB,oBAAAA,KAAK,CAACiB,SAAN,CAAgBZ,IAAI,CAACa,EAArB,EAAyB,GAAzB;AACH,mBAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBANJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBAPJ;AAAA,eAASb,IAAI,CAACa,EAAd;AAAA;AAAA;AAAA;AAAA,oBADS,CAAN,eAoBH;AAAA,sCACI;AAAA,iDAAUjB,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI;AAAA,qDAAWM,UAAU,CAACY,OAAX,CAAmB,CAAnB,CAAX;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBApBG;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAP;AA0BH;AA/BD;AAAA;AAAA;AAAA;AAAA;AAFJ;AAmCH;;AArCwB;;AAwC7B,oBAAevB,SAAS,CAACE,IAAD,CAAxB","sourcesContent":["import React, { Component } from 'react'\nimport withLogin from '../../hoc/withLogin'\nimport CartContext from '../../context/cartContext'\n\nclass Cart extends Component {\n    render() {\n        return (\n            // 通过context的consumer拿到list属性和changeNum方法\n            <CartContext.Consumer>{\n            value => {\n                let totalNum = value.list.reduce((total, item)=>total += item.num, 0),\n                    totalPrice = value.list.reduce((total, item)=>total += item.num*item.price, 0);\n                let cartList = value.list.filter(item => item.num);\n                return <div>{cartList.map(item=>\n                    <ul key={item.id}>\n                        <img src={item.image} alt=\"\"/>\n                        <div>\n                            <p>{item.name}</p>\n                            <p>{item.tag}</p>\n                            <p>{item.price}</p>\n                        </div>\n                        <div>\n                            <button onClick={e=>{\n                                e.stopPropagation();\n                                value.changeNum(item.id, '+')\n                            }}>+</button>\n                            <span>{item.num}</span>\n                            <button onClick={e=>{\n                                e.stopPropagation();\n                                value.changeNum(item.id, '-')\n                            }}>-</button>\n                        </div>\n                    </ul>)}\n                    <section>\n                        <span>总量：{totalNum}</span> \n                        <span>总价：¥{totalPrice.toFixed(2)}</span>\n                        <button>立即支付</button>\n                    </section>\n                </div>\n            }}</CartContext.Consumer>\n        )\n    }\n}\n\nexport default withLogin(Cart);"]},"metadata":{},"sourceType":"module"}